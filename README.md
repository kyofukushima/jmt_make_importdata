# ジモトクデータ処理アプリ

ジモトクのデータインポート用に、データ処理を行うWebアプリケーションです。

## 機能

1. エクセルまたはCSVファイルの読み込み
2. 出力列の選択（デフォルトで全ての列が選択された状態）
3. 特定の列の一括置換
   - content.idの場合はデフォルト値「納品可」
   - content.statusの場合は「納品可」または「チェック可」から選択可能
4. データ型情報の挿入（処理の最後に1行目に挿入）
5. CSVダウンロード設定
   - エンコーディング選択（UTF-8/Shift-JIS、デフォルトはShift-JIS）
   - UTF-8選択時はBOMの有無を選択可能
   - 元ファイル名を含むファイル名でダウンロード

## インストール方法

```bash
# 依存関係のインストール
pip install -r requirements.txt
```

## 実行方法

```bash
streamlit run app.py
```

## 使い方

1. エクセルまたはCSVファイルをアップロードします
2. データの行数と内容を確認します
3. 出力する列を選択します（デフォルトで全ての列が選択されています）
4. 一括置換セクションで「列の追加」ボタンを押して置換したい列と値を指定します
   - content.statusを選択した場合は、「納品可」「チェック可」から選択できます
5. 「値を変更する」ボタンを押して処理を実行します
6. 処理結果の行数と内容を確認します
7. ダウンロード設定（エンコーディング、UTF-8の場合はBOMの有無）を指定します
8. ダウンロードボタンを押してCSVをダウンロードします

## 出力ファイル形式

ダウンロードされるファイル名は以下の形式になります：
- `インポート用_元ファイル名_日時_エンコーディング.csv`（Shift-JISの場合）
- `インポート用_元ファイル名_日時_UTF-8_BOM付き.csv`（UTF-8 BOM付きの場合）
- `インポート用_元ファイル名_日時_UTF-8_BOMなし.csv`（UTF-8 BOMなしの場合）

## 注意事項

- このアプリケーションを実行するには、「データ項目一覧.md」ファイルが実行ディレクトリに必要です
- ファイルのエンコーディングは自動検出されますが、読み込みに失敗した場合はShift-JISで再試行されます 